<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Louvain algorithm | Vinay Kumar B. R.</title> <meta name="author" content="Vinay Kumar B. R."> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://vinkumbr.github.io/projects/louvain/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Vinay </span>Kumar B. R.</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Research</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/overview/">Overview</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/publications/">Publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/talks/">Presentations</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Louvain algorithm</h1> <p class="post-description"></p> </header> <article> <p><strong><em>Acknowledgements</em></strong>- <a href="https://martijngosgens.nl/" rel="external nofollow noopener" target="_blank">Martijn Gosgens</a></p> <p>The following is an illustration of the Louvain algorithm for community detection.</p> <meta charset="utf-8"> <script>const data={nodes:[{id:0,group:0,order:21,initialCluster:0,x:32.19221076622863,y:34.48678471165234},{id:1,group:0,order:10,initialCluster:1,x:-6.1515561138972785,y:-10.1285634919675},{id:2,group:0,order:1,initialCluster:2,x:15.491474876800062,y:-13.555222112285028},{id:3,group:0,order:20,initialCluster:3,x:1.4906050892116223,y:18.42130751923823},{id:4,group:0,order:16,initialCluster:4,x:41.75878772336577,y:10.033856782310371},{id:5,group:0,order:0,initialCluster:5,x:-6.977649318231367,y:48.57716547013567},{id:6,group:0,order:14,initialCluster:6,x:26.017050623597537,y:13.475841646795791},{id:7,group:0,order:18,initialCluster:7,x:22.107554350373732,y:27.436492180256565},{id:8,group:0,order:13,initialCluster:8,x:10.128487168616306,y:17.200914396000154},{id:9,group:0,order:17,initialCluster:9,x:26.935904667147746,y:45.164893731638415},{id:10,group:0,order:11,initialCluster:10,x:52.66156276816757,y:-5.414392633532861},{id:11,group:0,order:4,initialCluster:11,x:30.379716838377043,y:-8.315862014998904},{id:12,group:1,order:24,initialCluster:12,x:-44.22607864989677,y:-1.8123549920973303},{id:13,group:1,order:12,initialCluster:13,x:-100,y:29.990566596042072},{id:14,group:1,order:9,initialCluster:14,x:-92.82890037071941,y:8.050082508038193},{id:15,group:1,order:23,initialCluster:15,x:-64.63035386160647,y:32.75398940871948},{id:16,group:1,order:3,initialCluster:16,x:-79.87562866069578,y:19.322816123059},{id:17,group:1,order:6,initialCluster:17,x:-45.227664431004065,y:24.334547732914267},{id:18,group:1,order:15,initialCluster:18,x:-62.83437740370065,y:7.885717758511039},{id:19,group:2,order:2,initialCluster:19,x:53.964393274533315,y:-40.10727061666903},{id:20,group:2,order:19,initialCluster:20,x:35.29923015276506,y:-36.59095663636292},{id:21,group:2,order:22,initialCluster:21,x:35.47554027713922,y:-51.45862300566153},{id:22,group:2,order:5,initialCluster:22,x:45.25453715124429,y:-71.85914248367955},{id:23,group:2,order:8,initialCluster:23,x:57.93398077246316,y:-53.643835715499634},{id:24,group:2,order:7,initialCluster:24,x:15.66117230972049,y:-44.248752862557204}],links:[{source:0,target:3},{source:0,target:4},{source:0,target:5},{source:0,target:6},{source:0,target:8},{source:0,target:9},{source:0,target:10},{source:1,target:2},{source:1,target:3},{source:1,target:6},{source:1,target:11},{source:1,target:18},{source:1,target:20},{source:2,target:6},{source:2,target:7},{source:2,target:8},{source:2,target:21},{source:3,target:4},{source:3,target:6},{source:3,target:8},{source:3,target:9},{source:3,target:11},{source:3,target:12},{source:4,target:7},{source:4,target:8},{source:4,target:10},{source:4,target:11},{source:4,target:20},{source:5,target:7},{source:5,target:8},{source:5,target:9},{source:5,target:15},{source:6,target:7},{source:6,target:8},{source:6,target:9},{source:6,target:10},{source:7,target:8},{source:7,target:9},{source:7,target:11},{source:8,target:10},{source:8,target:17},{source:9,target:11},{source:10,target:11},{source:10,target:19},{source:10,target:23},{source:11,target:19},{source:11,target:21},{source:11,target:24},{source:12,target:14},{source:12,target:15},{source:12,target:16},{source:12,target:17},{source:12,target:18},{source:12,target:24},{source:13,target:14},{source:13,target:15},{source:13,target:16},{source:13,target:18},{source:14,target:15},{source:14,target:16},{source:15,target:16},{source:15,target:17},{source:15,target:18},{source:16,target:17},{source:16,target:18},{source:17,target:18},{source:19,target:20},{source:19,target:21},{source:19,target:22},{source:19,target:23},{source:19,target:24},{source:20,target:21},{source:20,target:22},{source:20,target:23},{source:20,target:24},{source:21,target:22},{source:21,target:23},{source:21,target:24},{source:22,target:23},{source:22,target:24},{source:23,target:24}],moves:[{type:"RelabelNode",node:5,newlabel:9},{type:"RelabelNode",node:2,newlabel:1},{type:"RelabelNode",node:19,newlabel:22},{type:"RelabelNode",node:16,newlabel:13},{type:"RelabelNode",node:11,newlabel:21},{type:"RelabelNode",node:22,newlabel:23},{type:"RelabelNode",node:17,newlabel:18},{type:"RelabelNode",node:24,newlabel:23},{type:"RelabelNode",node:14,newlabel:13},{type:"RelabelNode",node:10,newlabel:22},{type:"RelabelNode",node:8,newlabel:7},{type:"RelabelNode",node:6,newlabel:1},{type:"RelabelNode",node:18,newlabel:13},{type:"RelabelNode",node:4,newlabel:7},{type:"RelabelNode",node:7,newlabel:9},{type:"RelabelNode",node:20,newlabel:23},{type:"RelabelNode",node:3,newlabel:7},{type:"RelabelNode",node:0,newlabel:7},{type:"RelabelNode",node:21,newlabel:23},{type:"RelabelNode",node:15,newlabel:13},{type:"RelabelNode",node:12,newlabel:13},{type:"RelabelNode",node:19,newlabel:23},{type:"RelabelNode",node:11,newlabel:9},{type:"RelabelNode",node:17,newlabel:13},{type:"RelabelNode",node:10,newlabel:7},{type:"RelabelNode",node:6,newlabel:7},{type:"Aggregate"},{type:"RelabelNode",node:9,newlabel:7},{type:"RelabelNode",node:1,newlabel:7},{type:"Aggregate"},{type:"Flatten"}]};</script> <style>.arrow-target{marker-end:url(#arrow)}.arrow-source{marker-start:url(#arrow)}</style> <div class="container"> <div id="container" class="row"></div> <div class="row d-flex flex-row"> <div id="startButton" class="p-1 btn btn-primary"><span class="fa-stack"><i class="fas fa-undo fa-xl"></i></span></div> <div id="moveButton" class="p-1 btn btn-primary"><span class="fa-stack"><i class="fa-solid fa-forward fa-xl"></i></span></div> <div class="p-2 ml-auto"><p id="modularityDisplay" class="text-center" style="margin-bottom: 0px; margin-right: 10px;"></p></div> </div> </div> <script src="https://cdn.jsdelivr.net/npm/d3@7"></script> <script>function chart(){function t(){B.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),L.attr("cx",t=>t.x).attr("cy",t=>t.y)}function e(t){t.active||x.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y}function r(t){t.subject.fx=t.x,t.subject.fy=t.y}function a(t,e){return Object.entries(t).reduce((t,r)=>({...t,[r[0]]:r[1].reduce((t,r)=>t.concat(e[r]),[])}),{})}function n(t){t.active||x.alphaTarget(0)}function l(t){return w[t].reduce((t,e)=>(v[e]||console.log("clusterSize: "+e+" not in id2nodes"),t+v[e].length),0)}function i(){L.attr("fill",t=>1==l(t.cluster)?"gray":b[t.cluster]),B.attr("stroke",t=>t.source.cluster==t.target.cluster?b[t.source.cluster]:"gray")}function o(){const t=Object.values(y).reduce((t,e)=>t+e**2,0),e=data.links.length,r={};m.forEach(t=>{r[t.cluster]||(r[t.cluster]=0),r[t.cluster]+=y[t.id]});var a=Object.values(r).reduce((t,e)=>t+e**2,0);return f.filter(t=>t.source.cluster==t.target.cluster).length/e-(a-t)/(4*e**2)}function c(){g=0,w={},v={},m.forEach(t=>{var e=t.initialCluster+"";t.cluster=e,v[t.id]=[t],w[e]||(w[e]=[]),w[e].push(t.id)}),i(),B.style("marker-end","initial").style("marker-start","initial"),document.getElementById("modularityDisplay").innerHTML=""}function s(){if(g>=data.moves.length)return;const t=data.moves[g++];if("RelabelNode"==t.type){var e=v[t.node][0].cluster,r=v[t.node].map(t=>t.id);B.style("marker-end",e=>r.includes(e.source.id)&&e.target.cluster==t.newlabel?"url(#arrow"+t.newlabel+")":"initial"),B.style("marker-start",e=>r.includes(e.target.id)&&e.source.cluster==t.newlabel?"url(#arrow"+t.newlabel+")":"initial"),w[t.newlabel]||(w[t.newlabel]=[]),w[e].splice(w[e].indexOf(t.node),1),w[t.newlabel].push(t.node),v[t.node].forEach(e=>{e.cluster=t.newlabel}),0==w[e].length&&delete w[e]}else"Aggregate"==t.type&&(v=a(w,v),Object.keys(w).forEach(t=>{w[t]=[t]}),B.style("marker-end","initial").style("marker-start","initial"));i(),document.getElementById("modularityDisplay").innerHTML="Modularity: "+o().toFixed(3)}const d=400,u=300;var g=0;const f=data.links.map(t=>({...t})),m=data.nodes.map(t=>({...t})),y={};f.forEach(t=>{y[t.source]||(y[t.source]=0),y[t.target]||(y[t.target]=0),y[t.source]++,y[t.target]++});const h=[...new Set(data.moves.filter(t=>"RelabelNode"==t.type).map(t=>t.newlabel))],p=d3.scaleOrdinal(d3.schemePaired),k=["red","orange","yellow","green","blue","indigo","violet"],b=(d3.scaleLinear().domain(k.map((t,e)=>e/(k.length-1)*(m.length-1))).range(k),{});var v={},w={};m.forEach(t=>{v[t.id]=[t],w[t.id]=[t.id]}),h.forEach((t,e)=>{b[t]=p(e)});const x=d3.forceSimulation(m).force("link",d3.forceLink(f).id(t=>t.id)).force("charge",d3.forceManyBody()).force("center",d3.forceCenter(d/2,u/2)).on("tick",t),E=d3.create("svg").attr("width",d).attr("height",u).attr("viewBox",[0,0,d,u]).attr("style","max-width: 100%; height: auto;"),j=E.append("defs");m.forEach(t=>{var e=t.id;j.append("marker").attr("id","arrow"+e).attr("viewBox","-19 -5 10 10").attr("refX",0).attr("refY",0).attr("stroke",b[e]).attr("fill",b[e]).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto-start-reverse").append("path").attr("d","M-19,-5L-9,0L-19,5").attr("class","arrowHead")});const B=E.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll().data(f).join("line").attr("stroke-width",1.5),L=E.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll().data(m).join("circle").attr("r",7).attr("fill","black");return L.append("title").text(t=>t.id),L.call(d3.drag().on("start",e).on("drag",r).on("end",n)),c(),{svg:E.node(),graph:data,node:L,link:B,start:c,move:s}}const animation=chart();document.getElementById("container").appendChild(animation.svg),document.getElementById("startButton").onclick=animation.start,document.getElementById("moveButton").onclick=animation.move;</script> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Vinay Kumar B. R.. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>