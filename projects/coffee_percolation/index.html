<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Brewing the Perfect Cup- Filter Coffee through Percolation Theory | Vinay Kumar B. R.</title> <meta name="author" content="Vinay Kumar B. R."> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://vinkumbr.github.io/projects/coffee_percolation/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Vinay </span>Kumar B. R.</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Research</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/overview/">Overview</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/publications/">Publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/talks/">Presentations</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Brewing the Perfect Cup- Filter Coffee through Percolation Theory</h1> <p class="post-description"></p> </header> <article> <h4 id="explore-how-the-principles-of-percolation-shape-the-journey-from-grounds-to-the-perfect-brew">Explore how the principles of percolation shape the journey from grounds to the perfect brew.</h4> <p>[This article has been written for The Network Pages]</p> <p>Coffee brewing is more than just a morning ritual—it’s a fascinating interplay of physics, chemistry, art, and mathematics. While different coffee brewing methods require different techniques, at the heart of this process it involves either water or steam seeping through ground coffee beans.</p> <p>In this article, we’ll filter the science through the lens of a simple question: what makes a cup of coffee great? From understanding why grind size matters to appreciating the balance between under-extraction and over-extraction, we’ll explore how the principles of percolation influence every sip you take. Whether you’re a scientist, a coffee enthusiast, or simply curious about the science behind your brew, this is your guide to brewing perfection.</p> <p>Let’s make things concrete. In this post we will focus on brewing drip coffee, or pour-over filter coffee. This is done by pouring hot water over ground coffee beans, placed in a paper filter within a funnel. The water seeps through the powder, passes through the filter and collects in a container beneath. This is shown in the figure below.</p> <div class="row"> <div class="col-sm mt-4 mt-md-0"> <figure> <picture> <img src="/assets/img/coffee_perc/Basically-Pour-Over-lede.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Pour-over coffee" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/coffee_perc/filter_coffee.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="filter coffee" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Fig. 1 Pour-over coffee and filter coffee </div> <p>The dynamic of the movement of water through ground coffee beans is strikingly explained by percolation theory. Percolation theory, introduced by Broadbent and Hammersley in 1957, studies the flow of fluid within a porous medium. Over the years, it has been used and applied to several other fields, including information dissemination in communication networks, the spread of an infection through an orchard, <a href="https://www.networkpages.nl/percolation-theory-about-math-and-gossip/" rel="external nofollow noopener" target="_blank">rumour spreading in online social networks</a>, among others. Naturally, it forms a palatable model to describe the brewing of coffee as well. Here is how it is done. </p> <h3 id="coffee-brewing-and-percolation">Coffee brewing and percolation</h3> <p>Think of the particles of the ground coffee to be arranged like a hexagonal lattice as shown in Fig. 3. When water is poured, the granules on the top layer come in contact with it. The water dissolves the caffeine and other soluble components within the coffee granules giving it the aroma. In other words, water extracts coffee from the granule. The water makes its way to the next layer where the coffee extraction procedure repeats. This process continues as the caffeinated water makes its way through the coffee bed, passes through the filter and collects in the container below. A fresh cup of coffee is ready for you to be relished.</p> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Coffee Percolation Animation</title> <style>body{display:flex;justify-content:center;align-items:center;margin:0;background-color:#f0f0f0}svg{border:1px solid black}</style> <div id="water-animation"></div> <script>function createCoffeePercolation(){async function t(){for(;;){for(let t=0;t<s;t++){await new Promise(t=>setTimeout(t,500));for(let e=0;e<r;e++){b[t*r+e].setAttribute("fill","#6F4E37")}}await new Promise(t=>setTimeout(t,1e3)),b.forEach(t=>t.setAttribute("fill","white"))}}const e=400,i=400,r=10,s=9,o=10,l=e/(2*r),u=1.88*l,n=.95*e,c=(e-n)/2,w=document.createElementNS("http://www.w3.org/2000/svg","svg");w.setAttribute("width",e),w.setAttribute("height",i);const h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x",c),h.setAttribute("width",n),h.setAttribute("height",1.5*l),h.setAttribute("fill","lightblue"),w.appendChild(h);const b=[];for(let t=0;t<s;t++)for(let e=0;e<r;e++){const i=e*u+l+o+(t%2==0?0:l),r=t*u+l,s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",i),s.setAttribute("cy",r+1.5*l),s.setAttribute("r",l),s.setAttribute("stroke","#6F4E37"),s.setAttribute("stroke-width","2"),s.setAttribute("fill","white"),w.appendChild(s),b.push(s)}const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",c),a.setAttribute("y",i-1.5*l),a.setAttribute("width",n),a.setAttribute("height",1.5*l),a.setAttribute("fill","yellow"),w.appendChild(a);const d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("width",c),d.setAttribute("height",i),d.setAttribute("fill","black"),w.appendChild(d);const A=document.createElementNS("http://www.w3.org/2000/svg","rect");return A.setAttribute("x",e-c),A.setAttribute("width",c),A.setAttribute("height",i),A.setAttribute("fill","black"),w.appendChild(A),t(),w}document.getElementById("water-animation").appendChild(createCoffeePercolation());</script> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fig. 3: A hexagonal lattice coffee bed. 
</code></pre></div></div> <p>However the process is not as simple. It might so happen that a granule of coffee absorbs the water and it does not pass to the next layer. After all, the amount of coffee you get after brewing is not exactly the same as the amount of water you poured in, right? This absorption could be a result of numerous factors such as the composition of the granule, its size or shape, the amount of water etc. While these are individually not easy to account for, mathematicians model coffee dissolution within a granule as an event of chance. They assume that each granule allows the water to pass through with probability \(p\), and does not allow it (or, absorbs it) with probability \(1-p\). It turns out that this simple modelling abstraction helps to capture various aspects of fluid propagation in porous media, or in our case, gives pointers for coffee brewing.</p> <div class="row"> <figure> <picture> <img src="/assets/img/coffee_perc/coffee_bean_tossing_coin.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="bean_toss" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="caption"> Fig. 3: Coffee granule tossing a coin. </div> <p>To understand this better, let us assume that each granule has a coin that lands heads half of the time and tails the remaining half. All the granules in our hexagonal coffee bed toss their respective coins before the water is poured. A granule decides to let water pass through it (along with giving it some dissolved caffeine) if its coin lands heads; it does not allow water if the coin lands tails. Our coffee bed will look as in Fig. 4 where the brown circles are granules that allow water through them and the empty ones do not. In percolation theory, the brown circles are referred to as open sites and the empty circles are called closed sites. </p> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Coffee Percolation Animation</title> <style>body{display:flex;justify-content:center;align-items:center;margin:0;background-color:#000}svg{border:3px solid #fff}</style> <div id="coffee-animation"></div> <script>function createCoffeePercolationrandom(){async function t(){let e=[];for(let t=0;t<r;t++){const i=t;Math.random()<l&&(a[i].circle.setAttribute("fill","#6F4E37"),e.push({r:0,c:t}))}for(let t=1;t<c;t++){await new Promise(t=>setTimeout(t,500));const i=[];for(let e=0;e<r;e++){const c=t*r+e,s=(t-1)*r+(e-1),o=(t-1)*r+(e+1),u=(t-1)*r+e;t%2==0?(e>0&&a[s]&&"#6F4E37"===a[s].circle.getAttribute("fill")||"#6F4E37"===a[u].circle.getAttribute("fill"))&&Math.random()<l&&(a[c].circle.setAttribute("fill","#6F4E37"),i.push({r:t,c:e})):(e<r-1&&a[o]&&"#6F4E37"===a[o].circle.getAttribute("fill")||"#6F4E37"===a[u].circle.getAttribute("fill"))&&Math.random()<l&&(a[c].circle.setAttribute("fill","#6F4E37"),i.push({r:t,c:e}))}e=[...e,...i]}await new Promise(t=>setTimeout(t,1e3)),a.forEach(({circle:t})=>t.setAttribute("fill","white")),t()}const e=400,i=400,r=10,c=9,l=.65,s=10,o=e/(2*r),u=1.88*o,n=.95*e,h=(e-n)/2,w=document.createElementNS("http://www.w3.org/2000/svg","svg");w.setAttribute("width",e),w.setAttribute("height",i);const b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",h),b.setAttribute("width",n),b.setAttribute("height",1.5*o),b.setAttribute("fill","lightblue"),w.appendChild(b);const a=[];for(let t=0;t<c;t++)for(let e=0;e<r;e++){const i=e*u+o+s+(t%2==0?0:o),r=t*u+o,c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("cx",i),c.setAttribute("cy",r+1.5*o),c.setAttribute("r",o),c.setAttribute("stroke","#6F4E37"),c.setAttribute("stroke-width","2"),c.setAttribute("fill","white"),w.appendChild(c),a.push({circle:c,r:t,c:e})}const A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.setAttribute("x",h),A.setAttribute("y",i-1.5*o),A.setAttribute("width",n),A.setAttribute("height",1.5*o),A.setAttribute("fill","yellow"),w.appendChild(A);const d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("width",h),d.setAttribute("height",i),d.setAttribute("fill","black"),w.appendChild(d);const f=document.createElementNS("http://www.w3.org/2000/svg","rect");return f.setAttribute("x",e-h),f.setAttribute("width",h),f.setAttribute("height",i),f.setAttribute("fill","black"),w.appendChild(f),t(),w}document.getElementById("coffee-animation").appendChild(createCoffeePercolationrandom());</script> <p><span></span></p> <h3 id="grind-size">Grind size</h3> <p>The percolation model provides a structured way to incorporate multiple variables in the coffee brewing process. To illustrate, consider the process of grinding coffee, arguably the most important factor influencing the taste of your brew. Grinding breaks roasted coffee beans into smaller granules, increasing their surface area. The finer the grind, the greater the surface area exposed to water, allowing for more efficient extraction of the compounds responsible for coffee’s flavour.</p> <p>In the percolation model, grind size can be represented by adjusting the probability parameter \(p\). Previously, we assumed each granule had an equal chance of allowing water to pass through, corresponding to \(p=0.5\). Instead, if the granules used a coin that lands heads with probability \(p = 0.75\) (and tails with probability \(1-p=0.25\)), water would have a higher likelihood of dissolving caffeine and other solubles within each granule. This mirrors the effect of a finer grind, where more surface area is in contact with water, leading to faster extraction and a stronger brew. Thus, a finer grind corresponds to a higher value of \(p\). In turn, a higher \(p\) represents a larger number of open sites in the percolation model.</p> <h3 id="top-bottom-crossings">Top-bottom crossings</h3> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Coffee Percolation Animation</title> <style>body{display:flex;justify-content:center;align-items:center;margin:0;background-color:#000}svg{border:3px solid #fff}</style> <div id="coffee-top-bottom"></div> <script>function createCoffeePercolationrandom(){async function t(){let r=new Set;for(let t=0;t<s;t++){const e=t;Math.random()<l&&(m[e].circle.setAttribute("fill","#6F4E37"),r.add(`0-${t}`))}for(let t=1;t<c;t++){await new Promise(t=>setTimeout(t,500));let e=new Set;for(let i=0;i<s;i++){const c=t*s+i,o=`${t-1}-${i-1}`,n=`${t-1}-${i+1}`,a=`${t-1}-${i}`;t%2==0?(r.has(o)||r.has(a))&&Math.random()<l&&(m[c].circle.setAttribute("fill","#6F4E37"),e.add(`${t}-${i}`)):(r.has(n)||r.has(a))&&Math.random()<l&&(m[c].circle.setAttribute("fill","#6F4E37"),e.add(`${t}-${i}`))}r=new Set([...r,...e])}e(r),await new Promise(t=>setTimeout(t,1e3)),m.forEach(({circle:t})=>t.setAttribute("fill","white")),t()}function e(t){const e=[...Array(s).keys()].filter(e=>t.has(`0-${e}`)).map(t=>({r:0,c:t})),r=new Set,i=new Set;for(;e.length;){const{r:l,c:o}=e.shift();if(!r.has(`${l}-${o}`)){if(r.add(`${l}-${o}`),i.add(`${l}-${o}`),l===c-1)return void i.forEach(t=>{const[e,r]=t.split("-").map(Number);m[e*s+r].circle.setAttribute("fill","blue")});[`${l+1}-${o}`,`${l+1}-${o-1}`,`${l+1}-${o+1}`].forEach(i=>{t.has(i)&&!r.has(i)&&e.push({r:l+1,c:Number(i.split("-")[1])})})}}}const r=400,i=400,s=10,c=9,l=.65,o=10,n=r/(2*s),a=1.88*n,h=.95*r,u=(r-h)/2,d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("width",r),d.setAttribute("height",i);const w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("x",u),w.setAttribute("width",h),w.setAttribute("height",1.5*n),w.setAttribute("fill","lightblue"),d.appendChild(w);const b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",u),b.setAttribute("y",i-1.5*n),b.setAttribute("width",h),b.setAttribute("height",1.5*n),b.setAttribute("fill","yellow"),d.appendChild(b);const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("width",u),f.setAttribute("height",i),f.setAttribute("fill","black"),d.appendChild(f);const A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.setAttribute("x",r-u),A.setAttribute("width",u),A.setAttribute("height",i),A.setAttribute("fill","black"),d.appendChild(A);const m=[];for(let t=0;t<c;t++)for(let e=0;e<s;e++){const r=e*a+n+o+(t%2==0?0:n),i=t*a+n,s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",r),s.setAttribute("cy",i+1.5*n),s.setAttribute("r",n),s.setAttribute("stroke","#6F4E37"),s.setAttribute("stroke-width","2"),s.setAttribute("fill","white"),d.appendChild(s),m.push({circle:s,r:t,c:e})}return t(),d}document.getElementById("coffee-top-bottom").appendChild(createCoffeePercolationrandom());</script> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fig. 5: Blue lines indicate top-bottom crossings
</code></pre></div></div> <p>With a solid mathematical model for coffee extraction, we can now explore when it yields good coffee, offering insight into the key parameters we can adjust during brewing for a more flavourful coffee. In our model, coffee flows through the coffee bed if there is a connected path of open sites from the top layer to the bottom, as shown in Fig. 5. In percolation theory, this is known as a <em>top-bottom crossing</em> (read as, <em>top-to-bottom crossing</em>). Ideally, we want to maximize the number of such paths to enhance extraction.</p> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Coffee Percolation Animation</title> <style>body{display:flex;justify-content:center;align-items:center;gap:20px;margin:0;background-color:#000}svg{border:3px solid #fff}</style> <div> <span>      </span><span id="left-coffee-animation"></span><span>      </span> <span id="right-coffee-animation"></span> </div> <script>function createCoffeePercolation(t,e){async function i(){let r=[];for(let t=0;t<e;t++)Math.random()<l&&(b[t].circle.setAttribute("fill","#6F4E37"),r.push({r:0,c:t}));for(let i=1;i<t;i++){await new Promise(t=>setTimeout(t,500));const t=[];for(let r=0;r<e;r++){const c=i*e+r,o=(i-1)*e+(r-1),s=(i-1)*e+(r+1),n=(i-1)*e+r;i%2==0?(r>0&&b[o]&&"#6F4E37"===b[o].circle.getAttribute("fill")||"#6F4E37"===b[n].circle.getAttribute("fill"))&&Math.random()<l&&(b[c].circle.setAttribute("fill","#6F4E37"),t.push({r:i,c:r})):(r<e-1&&b[s]&&"#6F4E37"===b[s].circle.getAttribute("fill")||"#6F4E37"===b[n].circle.getAttribute("fill"))&&Math.random()<l&&(b[c].circle.setAttribute("fill","#6F4E37"),t.push({r:i,c:r}))}r=[...r,...t]}await new Promise(t=>setTimeout(t,1e3)),b.forEach(({circle:t})=>t.setAttribute("fill","white")),i()}const r=t>e?200:400,c=t>e?400:200,l=.65,o=10,s=Math.min(r/(2*e),c/(2*t)),n=1.88*s,u=.95*r,a=(r-u)/2,h=10-t,f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("width",r),f.setAttribute("height",c);const w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("x",a),w.setAttribute("width",u),w.setAttribute("height",1.5*s),w.setAttribute("fill","lightblue"),f.appendChild(w);const b=[];for(let i=0;i<t;i++)for(let t=0;t<e;t++){const e=t*n+s+o+(i%2==0?0:s),r=i*n+s,c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("cx",e),c.setAttribute("cy",r+1.5*s),c.setAttribute("r",s),c.setAttribute("stroke","#6F4E37"),c.setAttribute("stroke-width","2"),c.setAttribute("fill","white"),f.appendChild(c),b.push({circle:c,r:i,c:t})}const d=document.createElementNS("http://www.w3.org/2000/svg","rect");return d.setAttribute("x",a),d.setAttribute("y",c-1.5*s-h),d.setAttribute("width",u),d.setAttribute("height",1.5*s),d.setAttribute("fill","yellow"),f.appendChild(d),i(),f}document.getElementById("left-coffee-animation").appendChild(createCoffeePercolation(10,5)),document.getElementById("right-coffee-animation").appendChild(createCoffeePercolation(5,10));</script> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fig. 6: Effect of the aspect ratio of the coffee bed.
</code></pre></div></div> <p>To understand top-bottom crossings, let us picture two separate coffee beds; one that is deep and narrow, and another that is wide and shallow. If the bed is deep and narrow, it would be difficult for water to seep through, since granules at every layer have to let water pass through them. On the other hand, if the bed is wide and shallow, there could be numerous pathways for the water on top to seep through to the bottom. Thus, intuition dictates that it is easier for water to flow from the top to the bottom in the latter scenario. Indeed, looking at the percolation model in Figs. 6a and 6b this is clearly evident since there are a lot more top-bottom crossings when the coffee bed is wide and shallow. However, if the bed is too shallow then there is not enough caffeine to extract and we obtain a light (not so strong) coffee. From this discussion, it is evident that the presence of top-bottom crossings is not only governed by the value of the probability $p$ but also by the <em>aspect ratio</em> of the coffee bed. </p> <p>Top-bottom crossings in the percolation model were studied by Russo in 1981, and Seymour and Welsh in 1978. In their research, now popular as the RSW theorem, they establish that when the probability $p$ is larger than a threshold $p_c$, the probability of there being a top-bottom crossing is close to $1$ for large enough lattice sizes of appropriate aspect ratio. The constant $p_c$ is called the critical probability of percolation and is equal to $\frac{1}{2}$ for the hexagonal lattice. Thus, we can expect to have top-bottom crossings and therefore better extraction when $p&gt;\frac{1}{2}$ on coffee beds that are neither too shallow nor too deep. As a takeaway, we now have another parameter–the aspect ratio– along with the grind size that we can vary to make our coffee taste better.</p> <h3 id="in-conclusion">In conclusion</h3> <p>Practically, the aspect ratio of the coffee bed is determined by the amount of ground coffee you use while brewing. This is fairly easy to perfect by looking at the strength of the brewed coffee, or the dryness of the bed after brewing. Choosing the right grind size however, is more intricate. While finer grind size can provide stronger coffee, grinding the coffee very fine results in over-extraction giving a bitter taste. In our percolation model, the grind size was captured using the probability $p$. However, numerous other parameters such as coffee to water ratio, water temperature, brewing duration etc. also affect the parameter $p$. While a general understanding of how these variables alter your coffee is known, a theoretical validation from percolation theory is still pending. For researchers like me, it forms a self-sustaining cycle: better coffee helps me do better research in percolation theory which in turn helps to improve my coffee. So the next time you enjoy a sip of delicious coffee, spare a thought to the numerous researchers of percolation theory who are in the quest of explaining your happiness.</p> <h4 id="references">References</h4> <p>[1] James Hoffman, “The world atlas of coffee”. <br> [2] Jason Scheltus,”Coffee from bean to the perfect brew”, Liquid Education.<br> [3] Shawn Steiman, “The little coffee know-it-all”.<br> [4] Maxwell Colonna-Dashwood, “The coffee dictionary”.<br></p> <p>P.S.: The author would like to thank de Bibliotheek Eindhoven cafe for their amazing coffees and an excellent collection of books on coffee brewing using which this article was mostly written.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Vinay Kumar B. R.. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>